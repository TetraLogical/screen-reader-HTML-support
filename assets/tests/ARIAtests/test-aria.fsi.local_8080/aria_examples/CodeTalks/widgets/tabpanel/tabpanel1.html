
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" >

<!-- Mirrored from test-aria.fsi.local:8080/aria_examples/codetalks/widgets/tabpanel/tabpanel1.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 31 Aug 2017 10:16:43 GMT -->
<head>
  <title>ARIA Example: Tabpanel Example 1</title>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

</head>

  <style type="text/css">
  
    div.codebox {
      background-color: #E0E0E0;
      color: black;
      font-family: monospace;
      padding: .5em;
      margin: .5em;
      border: black medium solid;
    }
	
	h2.nav {
	  position: absolute;
	  left: -200em;
	  top: -20em;
	}
	
	ul.nav {
	  margin: 0;
	  padding: 0;
	}
	
	ul.nav li {
	  display: inline;
	  list-style: none;
	  padding-right: 1em;
	}
  
  </style>

  <script type="text/javascript">
  
  function changeSourceCodeView(node_link, sc_id  ) {
   
     var node_sc = document.getElementById( sc_id );
	 
	 if( node_sc ) 
	   if( node_sc.style.display == "none" ) {
	      node_sc.style.display = "block";
		  node_link.innerHTML = node_link.innerHTML.replace(/Show/, "Hide");
	   } else {
	      node_sc.style.display = "none";	 
		  node_link.innerHTML = node_link.innerHTML.replace(/Hide/, "Show");
	   } // endif
     else 
	   alert("Id not found");
  }
  
  </script>

  <style type="text/css">
/* CSS Document */

div.tabpanel ul[role="tablist"] {
  margin: 0;
  padding: 0;
  list-style: none;
}

div.tabpanel li[role="tab"] {
  display: inline;
  margin: 0;
  border-top: thin solid black;
  border-left: thin solid black;
  border-right: thin solid black;
  padding-left: 1em;
  padding-right: 1em;
  padding-top: .25em;
  padding-bottom: .125em;
  font-weight: bold;
  background-color: #0099CC;
  color: white;
}

div.tabpanel li.selected {
  background-color: white;
  color: black;
}

div.tabpanel div[role="tabpanel"] {
 border: thin solid black; 
 padding: 1em;
 width: 30em;
}

div.tabpanel div[role="tabpanel"] ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

div.tabpanel div[role="tabpanel"] h3 {
  margin: 0;
  padding: 0;
  margin-bottom: .25em;
}
  </style>

  <script type="text/javascript">
/**
 *
 * The Globale Variables
 */

if (!window.Node) {
  var Node = {            // If there is no Node object, define one
    ELEMENT_NODE: 1,    // with the following properties and values.
    ATTRIBUTE_NODE: 2,  // Note that these are HTML node types only.
    TEXT_NODE: 3,       // For XML-specific nodes, you need to add
    COMMENT_NODE: 8,    // other constants here.
    DOCUMENT_NODE: 9,
    DOCUMENT_FRAGMENT_NODE: 11
  }
} 


var KEY_PAGEUP   = 33;
var KEY_PAGEDOWN = 34;
var KEY_END      = 35;
var KEY_HOME     = 36;

var KEY_LEFT     = 37;
var KEY_UP       = 38;
var KEY_RIGHT    = 39;
var KEY_DOWN     = 40;

var KEY_SPACE    = 32;
var KEY_TAB      = 9;

var KEY_BACKSPACE = 8;
var KEY_DELETE    = 46;
var KEY_ENTER     = 13;
var KEY_INSERT    = 45;
var KEY_ESCAPE    = 27;

var KEY_F1        = 112;
var KEY_F2        = 113;
var KEY_F3        = 114;
var KEY_F4        = 115;
var KEY_F5        = 116;
var KEY_F6        = 117;
var KEY_F7        = 118;
var KEY_F8        = 119;
var KEY_F9        = 120;
var KEY_F10       = 121;

var KEY_M         = 77;

var NS_XHTML = "../../../../../external.html?link=http://www.w3.org/1999/xhtml"
var NS_STATE = "../../../../../external.html?link=http://www.w3.org/2005/07/aaa";

// **********************************************
// *
// * Commonly used helper functions
// *
// **********************************************

/**
 *
 * nextSiblingElement
 * 
 * @contructor
 */
 
function nextSiblingElement( node ) {

  var next_node = node.nextSibling;

  while( next_node
		&& (next_node.nodeType != Node.ELEMENT_NODE) ) {
	  next_node = next_node.nextSibling;
  }  // endwhile

  return next_node;
  
}

/**
 *
 * previousSiblingElement 
 * 
 * @param ( node ) node object for which you are looking for the next sibling element node
 *
 * @return ( node) next sibling or "null"
 */
 
function previousSiblingElement( node ) {

  var next_node = node.previousSibling;

  while( next_node
		&& (next_node.nodeType != Node.ELEMENT_NODE) ) {
	  next_node = next_node.previousSibling;
  }  // endwhile

  return next_node;
  
}

/**
 *
 * firstChildElement 
 * 
 * @param ( node ) node object for which you are looking for the first child element node
 *
 * @return ( node) next sibling or "null"
 */
 
function firstChildElement( node ) {

  var next_node = node.firstChild;

  while( next_node
		&& (next_node.nodeType != Node.ELEMENT_NODE) ) {
	  next_node = next_node.nextSibling;
  }  // endwhile


  return next_node;
  
}

/**
 *
 * getTextContentOfNode
 * 
 * @contructor
 */
 
function getTextContentOfNode( node ) {

  var next_node = node.firstChild;
  var str = "";

  while( next_node ) {
		
	  if( (next_node.nodeType == Node.TEXT_NODE ) &&
		  (next_node.length > 0 )
		 )
	    str += next_node.data;
	  
	  
	  next_node = next_node.nextSibling;
	  
  }  // endwhile

  return str;
  
}

/**
 *
 * setTextContentOfNode
 * 
 * @contructor
 */
 
function setTextContentOfNode( node, text ) {

   // Generate a new text node with the text value
    var text_node = document.createTextNode(text);
  
    // Remove child nodes to remove text
    while (node.firstChild) {
      node.removeChild(node.firstChild);
    } // while

    // Append new text to the container element
    node.appendChild( text_node );

}
  </script>

  <script type="text/javascript">
// JavaScript Document
// Widgets is a way to initialize widgets in the ARIA examples

 
function Widgets() {
  this.widgets = new Array();
}

/**
 * add is member of the Widgets Object 
 * and used add a widget ot the list of widgets to be intitialized 
 * as part of the onload event
 * The controls array is the list of controls to initialize
 * @member Enable
 * @return none
 */

Widgets.prototype.add = function(obj) {
  this.widgets[this.widgets.length] = obj;
}

/**
 * init is member of the Widgets Object 
 * and is called by the onload event to initialize widgets in the web resource
 * The controls array is the list of controls to initialize
 * @member Enable
 * @return none
 */

Widgets.prototype.init = function() {
   	
   for(var i = 0; i < this.widgets.length; i++ )
     this.widgets[i].init();
}

var widgets = new Widgets();

function initApp() {
  widgets.init();
}

  </script>

  <script type="text/javascript">
// JavaScript Document
// This module is to abstract browser dependencies
// This makes the widget code cleaner and earier to read by making most browser specfic coding
// in one place rather han scatered throghot documents
var ARIA_STATE = "aria-";

//
// WebBrowser object to abstract accessibility API differences between web standards supporting browsers and Internet Explorer 7.0
//
// The state variable keeps track of current state of checkbox
function WebBrowser() {

}


//
// keyCode is a function to get the keycode from a keypress event
//
// @param ( event object) event is an event object
//
// @return ( keycode ) 

WebBrowser.prototype.keyCode = function( event ) {
  var e = event || window.event;
  
  return e.keyCode;
}  

/**
 * OnClick Event Simulator
 *
 * @param ( node ) DOM node object
 * @return nothing
 */

if( document.createEvent ) {

  // If a web standards based browser implement this function

  WebBrowser.prototype.simulateOnClickEvent = function( node ) {
    // W3C DOM Events way to trigger a "click" event
    var e = document.createEvent('MouseEvents');
    e.initEvent( 'click', true, true );

    node.dispatchEvent( e );

  } 

} else {

  // If a Microsoft IE based browser implement this function
  
  WebBrowser.prototype.simulateOnClickEvent = function( node ) {

    var e = document.createEventObject();
    node.fireEvent( "onclick", e );

  } // endif

}

if ( document.addEventListener ) {

  // If a web standards based browser implement this function

  WebBrowser.prototype.setMouseCapture = function( node, clickHandler, downHandler, moveHandler, upHandler ) {

    if( clickHandler )
      document.addEventListener( "click",     clickHandler, true );
		
    if( downHandler )
      document.addEventListener( "mousedown", downHandler,  true );

    if( moveHandler )
      document.addEventListener( "mousemove", moveHandler,  true );
		
		if( upHandler)
      document.addEventListener( "mouseup",   upHandler,    true );

  }

  WebBrowser.prototype.releaseMouseCapture = function( node, clickHandler, downHandler, moveHandler, upHandler ) {

	if( upHandler)
      document.removeEventListener( "mouseup",   upHandler,    true );
			
    if( moveHandler )
      document.removeEventListener( "mousemove", moveHandler,  true );
		
    if( downHandler )
      document.removeEventListener( "mousedown", downHandler,  true );
			
    if( clickHandler )
      document.removeEventListener( "click",     clickHandler, true );

  }

} else {

  // If a Microsoft IE based browser implement this function

  WebBrowser.prototype.setMouseCapture = function( node, clickHandler, downHandler, moveHandler, upHandler ) {

   node.setCapture();
   if( clickHandler)
	   node.attachEvent( "onclick", clickHandler );
		 
   if( downHandler)
     node.attachEvent( "onmousedown", downHandler );
		 
   if( moveHandler )
	   node.attachEvent( "onmousemove", moveHandler );
		 
   if( upHandler )
	   node.attachEvent( "onmouseup", upHandler );

  } // endif

  WebBrowser.prototype.releaseMouseCapture = function( node, clickHandler, downHandler, moveHandler, upHandler ) {

   if( upHandler )
     node.detachEvent( "onmouseup", upHandler );
		 
   if( moveHandler )
     node.detachEvent( "onmousemove", moveHandler );
		 
   if( downHandler)
     node.detachEvent( "onmousedown", downHandler );
		 
   if( clickHandler)
     node.detachEvent( "onclick", clickHandler );
		 
     node.releaseCapture();

  } // endif


}




if (typeof document.documentElement.setAttributeNS != 'undefined') {

  WebBrowser.prototype.stopPropagation = function( event ) {
    event.stopPropagation();
    event.preventDefault();
    return false;
  }

  WebBrowser.prototype.target = function( event ) {
	return event.target;
  }
  
  WebBrowser.prototype.attrName = function( event ) {
	return event.attrName;
  }
  
 
  WebBrowser.prototype.charCode = function(event) {
     return event.charCode;
  }

  WebBrowser.prototype.calculateOffsetLeft = function( node ) {
	return node.offsetLeft;	  
  }
  
  WebBrowser.prototype.calculateOffsetTop = function( node ) {
	return node.offsetTop;	  
  }
  
  WebBrowser.prototype.pageX = function( e ) {
		return e.pageX;	  
  }
  
  WebBrowser.prototype.pageY = function( e ) {
		return e.pageY;	  
  }
  
  WebBrowser.prototype.setNodePosition = function(node,left,top) {
		node.style.left = left+"px";
		node.style.top = top+"px";
  }


} else {

  WebBrowser.prototype.stopPropagation = function( event ) {
    event.cancelBubble = true; 
    event.returnValue = false;
    return false;
  }

  WebBrowser.prototype.charCode = function(event) {
    return window.browser.keyCode( event );
  }

  WebBrowser.prototype.target = function( event ) {
    return event.srcElement;
  }

  WebBrowser.prototype.attrName = function( event ) {
	return event.propertyName;
  }
    
  WebBrowser.prototype.calculateOffsetLeft = function(node) {
	var offset = 0;
	
	while( node ) {
	  offset += node.offsetLeft;
	  node = node.offsetParent;
	}
	
	return offset;	  
  }
  
  WebBrowser.prototype.calculateOffsetTop = function(node) {
	var offset = 0;
	
	while( node ) {
		offset = offset + node.offsetTop;
		node = node.offsetParent;
	}
	
	return offset;	  
  }
  
  WebBrowser.prototype.pageX = function( e ) {
		return e.clientX + (document.documentElement.scrollLeft || document.body.scrollLeft);	  
  }
  
  WebBrowser.prototype.pageY = function( e ) {
		return e.clientY + (document.documentElement.scrollTop || document.body.scrollTop);	  
  }
  
  WebBrowser.prototype.setNodePosition = function(node,left,top) {
		offsetx = 0;
		offsety = 0;
		nnode = node.offsetParent
		while( nnode ) {
			offsetx = offsetx + nnode.offsetLeft;
			offsety = offsety + nnode.offsetTop;
			nnode = nnode.offsetParent;
		}
		node.style.left = left-offsetx+"px";
		node.style.top = top-offsety+"px";
  }
  
};


if (document.addEventListener) {

     // Functions for W3C Standards compliant implementation of adding event handlers

     WebBrowser.prototype.addEvent = function(elmTarget, sEventName, fCallback) {
       elmTarget.addEventListener(sEventName, fCallback, false);
       returnValue = true;
     };

     WebBrowser.prototype.removeEvent = function(elmTarget, sEventName, fCallback) {
       elmTarget.removeEventListener(sEventName, fCallback, false);
       returnValue = true;
     };

     WebBrowser.prototype.addChangeEvent =  function(elmTarget, fCallback) {
      elmTarget.addEventListener("DOMAttrModified", fCallback, false);
      returnValue = true;
    };

} else {

  if(document.attachEvent) {

     // IE Specific Event handler functions
     WebBrowser.prototype.addEvent = function(elmTarget, sEventName, fCallback) {
       returnValue = elmTarget.attachEvent('on' + sEventName, fCallback);
     };

     WebBrowser.prototype.removeEvent = function(elmTarget, sEventName, fCallback) {
       returnValue = elmTarget.detachEvent('on' + sEventName, fCallback);
     };

    WebBrowser.prototype.addChangeEvent =  function(elmTarget, fCallback) {
      returnValue = elmTarget.attachEvent("onpropertychange", fCallback);
    };

  } else {

     // For browsers that do not support W3C or IE event functions
     WebBrowser.prototype.addEvent = function(elmTarget, sEventName, fCallback) {
       return false;
     };

     WebBrowser.prototype.removeEvent = function(elmTarget, sEventName, fCallback) {
       return false;
     };

     WebBrowser.prototype.addChangeEvent =  function(elmTarget, fCallback) {
       return false;
     };

  }

}

var browser = new WebBrowser();

  </script>

  <script type="text/javascript">
// JavaScript Document

/**
 * NODE_LAST_FOCUS keeps track of which form element in the tab panel had last focus
 */

var NODE_LAST_FOCUS = null;

/**
 *
 * The TabPanel object is used to maintain information about a Tab Panel widget
 * including the collection of tab objects 
 * 
 * @contructor
 */
 

function TabPanel( id ) {

  this.id = id;
  this.tabs = new Array();
  this.current_tab = 0;
	this.last_keycode = 0;


}

/**
 * init is a subclass of TabPanel and is used to initialize the event handlers and 
 * tabs in a tab panel.
 * 
 * @member TabPanel
 * @return nothing
 */
 
TabPanel.prototype.init = function() {

  this.node = document.getElementById(this.id);

  var obj = this;

  browser.addEvent(this.node, "click",   function(event) {handleTabPanelClickEvent(event, obj); }, false);
  browser.addEvent(this.node, "keydown", function(event) {handleTabPanelKeyDownEvent(event, obj); }, true);
  browser.addEvent(this.node, "keypress", function(event) {handleTabPanelKeyPressEvent(event, obj); }, true);

  for(var i = 0; i < this.tabs.length; i++ )
     this.tabs[i].init();

  selectTabPanel( this, this.current_tab );

}

/**
 * add is a subclass of TabPanel 
 * The tab obj is added to the list of tabs in a Tab Panel object
 *
 * @member TabPanel
 * @param ( Tab Object) obj
 * @return nothing
 */
 
TabPanel.prototype.add = function(obj) {
  this.tabs[this.tabs.length] = obj;
}


/**
 *
 * The Tab object is used to maintain information about a panel in a Tab Panel widget 
 * including the node of the last control that had focus in the tab panel
 *
 * @params ( IDREF ) tab_id   the id of the tab control container element
 * @params ( IDREF ) panel_id the id of the panel container element
 * @contructor
 */
 
function Tab( tab_id, panel_id ) {

  this.tab_id = tab_id;
  this.panel_id = panel_id;
  this.node_last_focus = null;

}

/**
 * init is a subclass of Tab
 * The init function currentlt doesn't do anything right now
 * 
 * @member TabPanel
 * @return nothing
 */
 
Tab.prototype.init = function() {

  
}


/**
 * nextTabPanel moves to the next tab panel 
 * Updates the current tab panel index
 * If panel was selected before in current session focus is moved to last control with focus
 * Used by keyboard event handlers to change currrent tab panel
 *
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event
 * @return nothing
 */
 
nextTabPanel = function( tab_panel ) {

   if( tab_panel.current_tab < (tab_panel.tabs.length - 1) ) {

	 new_tab = tab_panel.current_tab + 1;
	 
	 selectTabPanel( tab_panel, new_tab );

   } // endif

}


/**
 * previousTabPanel moves to the previous tab panel 
 * Updates the current tab panel index
 * If panel was selected before in current session focus is moved to last control with focus
 * Used by keyboard event handlers to change currrent tab panel
 *
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event
 * @return nothing
 */
 
previousTabPanel = function( tab_panel ) {

   if( tab_panel.current_tab > 0 ) {
	 
	 new_tab = tab_panel.current_tab - 1;
	 
	 selectTabPanel( tab_panel, new_tab );
	   
   } // endif

}


/**
 * selectTabPanel moves to the previous tab panel 
 * Updates the current tab panel index
 * Used by keyboard event handlers to change currrent tab panel
 * If panel was selected before in current session focus is moved to last control with focus
 *
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event
 * @param ( TabPanel object) index is the index in the panel list of the selected panel 
 * @return nothing
 */
 
function selectTabPanel( tab_panel, index ) {

   if( (index >= 0 ) && ( index < tab_panel.tabs.length ) ) {
   
     // Change the selected state of the current tab  
     var node_tab = document.getElementById(tab_panel.tabs[tab_panel.current_tab].tab_id);
     node_tab.className = "";

     // Hide the current tab	 
     document.getElementById(tab_panel.tabs[tab_panel.current_tab].panel_id).style.display = "none";
	 
     // Set ARIA hidden attribute	 
     document.getElementById(tab_panel.tabs[tab_panel.current_tab].panel_id).setAttribute("aria-hidden", "true");
 
     // Put tab in list in the tabindex order
	   document.getElementById(tab_panel.tabs[tab_panel.current_tab].tab_id).tabIndex = -1;

     // Move to the next tab
     tab_panel.current_tab = index;
	 
     // Change the selected state of the current tab  
     var node_tab = document.getElementById(tab_panel.tabs[tab_panel.current_tab].tab_id);
     node_tab.className = "selected";

     // Show the current tab	 
     document.getElementById(tab_panel.tabs[tab_panel.current_tab].panel_id).style.display = "block";

     // Set ARIA hidden attribute	 
     document.getElementById(tab_panel.tabs[tab_panel.current_tab].panel_id).setAttribute("aria-hidden", "false");

     // Put tab in list in the tabindex order
     document.getElementById(tab_panel.tabs[tab_panel.current_tab].tab_id).tabIndex = 0;

     // Get control with last focus
	 if( tab_panel.tabs[tab_panel.current_tab].node_last_focus )
	    tab_panel.tabs[tab_panel.current_tab].node_last_focus.focus();
	 else
	    document.getElementById(tab_panel.tabs[tab_panel.current_tab].tab_id).focus();

   } // endif

}

/**
 * nextTab moves to the next tab in a tab panel 
 * Updates the current tab panel index
 * Used by keyboard event handlers to change currrent tab panel
 * Keyboard focus moves to the new tab 
 *
 * @param ( DOM node ) node_target of the element the event occured on
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event
 * @return nothing
 */

function nextTab( node_target, tab_panel ) {

   var index = indexOfNodeInTabList( node_target, tab_panel);

   if( (index >= 0 ) && (  index < (tab_panel.tabs.length - 1) ) ) {
	 
	 index++;
	 
	 selectTabPanel( tab_panel, index );
	   	   
     document.getElementById(tab_panel.tabs[index].tab_id).focus();
	 
   } // endif

}

/**
 * previousTab moves to the previous tab in a tab panel 
 * Updates the current tab panel index
 * Used by keyboard event handlers to change currrent tab panel
 * Keyboard focus moves to the new tab 
 *
 * @param ( DOM node ) node_target of the element the event occured on
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event
 * @return nothing
 */

previousTab = function( node_target, tab_panel ) {

   var index = indexOfNodeInTabList( node_target, tab_panel);

   if( index > 0 ) {
	 
	 index--;
	 
	 selectTabPanel( tab_panel, index );
	   	   
     document.getElementById( tab_panel.tabs[index].tab_id).focus();

   } // endif

}

/**
 * indexNodeInTabList checcks to see if the node the event ocurred on is in the list of tab in the tab panel
 *
 * @param ( DOM node ) node_target of the element the event occured on
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event
 * @return index of tab panel of current event target; -1 if node target is not in list
 */

indexOfNodeInTabList = function( node_target, tab_panel ) {

  var flag = -1;
  
  for(var i = 0; i < tab_panel.tabs.length; i++ ) {

     if( node_target == document.getElementById( tab_panel.tabs[i].tab_id) ) {
		  flag = i;
	  }  // endif

   }  // endfor

  return flag;
  
}

/**
 * isNodeInTabList checcks to see if the node the event ocurred on is in the list of tabs in the tab panel
 *
 * @param ( DOM node ) node_target of the element the event occured on
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event
 * @return boolean true if the node is in the tab list, otherwise false
 */

isNodeInTabList = function( node_target, tab_panel ) {

  var flag = false;
  
  for(var i = 0; !flag &&  (i < tab_panel.tabs.length); i++ ) {
	  
	  if( node_target == document.getElementById( tab_panel.tabs[i].tab_id) ) {
		  flag = true;
	  } //endif
	  
  }  // endfor

//  alert(flag);
  return flag;
  
}

/**
 * handleTabPanelKeyDownEvent 
 * This function helps stop TAB, PAGEDOWN and PAFEUP propagation
 *
 * @param ( event object ) event 
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event
 * @return boolean false if the event was used by Tab Panel, otherwisee true
 */

function handleTabPanelKeyPressEvent(event, tab_panel) {
    var e = event || window.event;

    switch( e.keyCode ) {

      case KEY_PAGEUP:
      case KEY_PAGEDOWN:
	   if( e.ctrlKey && !e.altKey && !e.shiftKey ) {
             return browser.stopPropagation(e);
           } // endif
           break;

      case KEY_TAB:
	   if( e.ctrlKey && !e.altKey ) {
             return browser.stopPropagation(e);
           } // endif
           break;

    }

}


/**
 * handleTabPanelKeyDownEvent 
 * Keyboard commands for the Tab Panel
 *
 * @param ( event object ) event 
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event
 * @return boolean false if the event was used by Tab Panel, otherwisee true
 */

function handleTabPanelKeyDownEvent(event, tab_panel) {
    var e = event || window.event;
		
    // Save information about a modifier key being pressed
		// May want to ignore keyboard events that include modifier keys 
    var no_modifier_pressed_flag = !e.ctrlKey && !e.shiftKey && !e.altKey;
    var control_modifier_pressed_flag = e.ctrlKey && !e.shiftKey && !e.altKey;

    switch( e.keyCode ) {
		
      case KEY_LEFT:
	    case KEY_UP:
	       if( isNodeInTabList( browser.target(e), tab_panel ) && no_modifier_pressed_flag ) {
             previousTab( browser.target(e), tab_panel);
             return browser.stopPropagation(event);
           } // endif
           break;

      case KEY_RIGHT:
	    case KEY_DOWN:
	       if( isNodeInTabList( browser.target(e), tab_panel ) && no_modifier_pressed_flag  ) {
             nextTab( browser.target(e), tab_panel);
             return browser.stopPropagation(e);
           } // endif
           break;

      case KEY_PAGEDOWN:
           if( control_modifier_pressed_flag ) {
             nextTabPanel( tab_panel );			 
             return browser.stopPropagation(e);
           }
           break;

      case KEY_PAGEUP:
           if( control_modifier_pressed_flag ) {			   
             previousTabPanel( tab_panel );
             return browser.stopPropagation(e);
           }
           break;

      case KEY_HOME:
	       if( no_modifier_pressed_flag ) {
             selectTabPanel( tab_panel, 0 );
             return browser.stopPropagation(e);			   
		   }

      case KEY_END:
	       if( no_modifier_pressed_flag ) {
             selectTabPanel( tab_panel, (tab_panel.tabs.length - 1)  );
             return browser.stopPropagation(e);			   
		   }


      case KEY_TAB:
           if( e.ctrlKey && !e.altKey ) {

             if( e.shiftKey ) 
                previousTabPanel( tab_panel );			 
             else 
                nextTabPanel( tab_panel );

             return browser.stopPropagation(e);
			 
	         }
					 
          break;
					
	}
  
  return true;
   
}


/**
 * handleTabPanelClickEvent
 * handlers changing tab panels when the user uses the mouse to select a tab
 *
 * @param ( event object ) event 
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event
 * @return boolean false if the event was used by Tab Panel, otherwisee true
 */

handleTabPanelClickEvent = function(event, tab_panel) {
   var e = event || window.event;
	
   var index = indexOfNodeInTabList( browser.target(e), tab_panel);

   if( index >= 0 ) {
	 
	 selectTabPanel( tab_panel, index );
	   	   
     document.getElementById( tab_panel.tabs[index].tab_id).focus();

     return false;

   } // endif

  return true;
   
}

/**
 * handleInputFocusEvent
 * handlers keeping track of which HTML input control last had focus
 * Used by tab panels to restore keyboard focus when using some keyboard commands
 *
 * @param ( event object ) event 
 * @param ( TabPanel object) tab is the Tab object associated with the event
 */

handleInputFocusEvent = function(event, tab) {
  var e = event || window.event;
 
  tab.node_last_focus = browser.target(e);
   
}
  </script>



<body onLoad="initApp()">

  <h1>Tabpanel Example 1</h1>
  
  
     <p>
	 Based on example from <a href="../../../../../external.html?link=http://test.cita.uiuc.edu/aria/tabpanel/tabpanel1.php">iCITA ARIA Tabpanel</a><br />
	 <a target="_validationreport" href="javascript:(function(){ var str = ''; if (document.innerHTML) str += document.innerHTML; else { if (document.doctype) { str += '&lt;!DOCTYPE '; str += document.doctype.name; if (document.doctype.publicId) { str += ' PUBLIC &quot;' + document.doctype.publicId + '&quot;'; if (document.doctype.systemId) str += ' &quot;' + document.doctype.systemId + '&quot;'; } else if (document.doctype.systemId) { str += ' SYSTEM &quot;' + document.doctype.systemId + '&quot;'; } str += '>\n'; } var dummy = document.createElementNS('http://www.w3.org/1999/xhtml', 'div'); dummy.appendChild(document.documentElement); str += dummy.innerHTML; } var form = document.createElementNS('http://www.w3.org/1999/xhtml', 'form'); form.enctype = 'multipart/form-data'; form.method = 'post'; form.acceptCharset = 'utf-8'; form.action = 'http://html5.validator.nu/'; form.innerHTML = '&lt;input name=&quot;parser&quot;/>&lt;input name=&quot;showsource&quot; value=&quot;yes&quot;/>&lt;textarea name=&quot;content&quot;>&lt;/textarea>'; form.parser.value = document.createElement('div').tagName == 'DIV' ? 'html' : 'xml'; form.content.value = str; if (document.documentElement) document.documentElement.appendChild(form); else document.appendChild(form); form.submit(); })()">Validate DOM (HTML5)</a></p>

<div role="application">
  <script type="text/javascript">

    var tabpanel1 = new TabPanel("tabpanel_1");
    widgets.add(tabpanel1);

    var tab1 = new Tab("tab_1", "panel_1");
    tabpanel1.add(tab1);

    var tab2  = new Tab("tab_2", "panel_2");
    tabpanel1.add(tab2);

    var tab3 = new Tab("tab_3", "panel_3");
    tabpanel1.add(tab3);

    var tab4 = new Tab("tab_4", "panel_4");
    tabpanel1.add(tab4);
		
  </script>

  
  <h2>Happy Time Pizza On-line Ordering System</h2>

  <form>
  
    <div id="tabpanel_1" class="tabpanel">

      <ul id="tablist_1" role="tablist">
	      <li id="tab_1" role="tab" tabindex="0">Crust</li>
	      <li id="tab_2" role="tab" tabindex="-1">Veges</li>

	      <li id="tab_3" role="tab" tabindex="-1">Carnivore</li>
	      <li id="tab_4" role="tab" tabindex="-1">Delivery</li>
	    </ul>

      <div id="panel_1" role="tabpanel" aria-labelledby="tab_1" aria-hidden="false" style="display: none">
	
	    <h3>Select Crust</h3>
	   
        <ul class="controlList">
	        <li><label><input onfocus="handleInputFocusEvent(event, tab1)" type="radio" name="crust" value="crust1"/>Deep Dish</label></li>

	        <li><label><input onfocus="handleInputFocusEvent(event, tab1)" type="radio" name="crust" value="crust1"/>Thick and cheesey</label></li>
	        <li><label><input onfocus="handleInputFocusEvent(event, tab1)" type="radio" name="crust" value="crust1"/>Thick and spicey</label></li>
	        <li><label><input onfocus="handleInputFocusEvent(event, tab1)" type="radio" name="crust" value="crust1"/>Thin</label></li>
	     </ul>
	
      </div>

      <div id="panel_2" role="tabpanel" aria-labelledby="tab_2" aria-hidden="true" style="display: none">
	
	    <h3>Select Vegetables</h3>	
	   
	     <ul class="controlList">

	        <li><label><input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege1"/>Black Olives</label></li>
	        <li><label><input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege2"/>Green Olives</label></li>
	        <li><label><input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege3"/>Green Peppers</label></li>
	        <li><label><input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege4"/>Mushrooms</label></li>
	        <li><label><input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege5"/>Black Olives</label></li>
	        <li><label><input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege6"/>Onions</label></li>

	        <li><label><input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege7"/>Pineapple</label></li>
	     </ul>
	 
	  </div>	 
	
    <div id="panel_3" role="tabpanel" aria-labelledby="tab_3" aria-hidden="true" style="display: none">
	
      <h3>Select Carnivore Options</h3>
	   
      <ul class="controlList">
        <li><label><input onfocus="handleInputFocusEvent(event, tab3)" type="checkbox" name="meat1"/>Hamburger</label></li>
        <li><label><input onfocus="handleInputFocusEvent(event, tab3)" type="checkbox" name="meat2"/>Ham</label></li>

        <li><label><input onfocus="handleInputFocusEvent(event, tab3)" type="checkbox" name="meat3"/>Itailian Sausage</label></li>
        <li><label><input onfocus="handleInputFocusEvent(event, tab3)" type="checkbox" name="meat4"/>Pepporroni</label></li>
      </ul>
	
    </div>

    <div id="panel_4" role="tabpanel" aria-labelledby="tab_4" aria-hidden="true" style="display: none">
	
	    <h3>Select Delivery Menthod</h3>
	   
	     <ul class="controlList">

	        <li><label><input onfocus="handleInputFocusEvent(event, tab4)" type="radio" name="delivery" value="delivery1"/>Eat in</label></li>
	        <li><label><input onfocus="handleInputFocusEvent(event, tab4)" type="radio" name="delivery" value="delivery2"/>Carry out</label></li>
	        <li><label><input onfocus="handleInputFocusEvent(event, tab4)" type="radio" name="delivery" value="delivery3"/>Delivery</label></li>
	        <li><label><input onfocus="handleInputFocusEvent(event, tab4)" type="radio" name="delivery" value="delivery4"/>Overnight mail</label></li>
	     </ul>
	
    </div>

  </div>
  
  </form>
</div><h2>Keyboard Shortcuts</h2>

<ul>
    <li>Left: Show previous tab when focus is on tab buttons</li>
    <li>Right: Show next tab tab wehn focus is on tab buttons</li>
    <li>Home: Show first tab when focus is on tab buttons</li>

    <li>End: Show last tab tab wehn focus is on tab buttons</li>
    <li>Control + <abbr title="Page Up">PgUp</abbr> and Control + Shift + Tab: Show next tab and restore focus to last control with focus or first control in tab if no previous focus</li>
    <li>Control + <abbr title="Page Down">PgDn</abbr> and Control + Tab: Show next tab and restore focus to last control with focus or first control in tab if no previous focus</li>
</ul>

<p><strong>NOTE:</strong> Internet Explorer does not propagate Control+Tab or Control+Shift+Tab to the web page when there are Internet Explorer Tabs open.</p>

<h2>ARIA Roles and Properties</h2>
<ul>
    <li>NOTE: The selected tab panel is maintained by the browser and communicated to assistive technology through accessibility APIs.  The browser communicates this information based on which <code>tab</code> in the <code>tablist</code> had focus last.  A <code>aria-labelledby</code> attribute needs to be defined on every <code>tabpanel</code> that points to the corresponding <code>tab</code> for the selected state to be calculated by the browser correctly.</li>

    <li>
    Roles:
	<ul>
	<li><code>role="application"</code></li>
	<li><code>role="tablist"</code></li>
    <li><code>role="tab"</code></li>
    <li><code>role="tabpanel"</code></li>

	</ul>
	</li>
<li>    States and properties: 
        <ul>
            <li><code>aria-labelledby</code></li>
            <li><code>aria-hidden</code></li>
        </ul>
		</li>

</ul>

  <h2>HTML Source Code</h2>
  <p><a id="lsc"href="#lsc" onclick="changeSourceCodeView(this, 'sc')">Show HTML Source Code: tabpanel1.inc</a></p>
  <div id="sc" class="codebox" style="display: none">
&lt;div role="application"&gt;<br>
&#160;&#160;&lt;script type="text/javascript"&gt;<br>
<br>
&#160;&#160;&#160;&#160;var tabpanel1 = new TabPanel("tabpanel_1");<br>

&#160;&#160;&#160;&#160;widgets.add(tabpanel1);<br>
<br>
&#160;&#160;&#160;&#160;var tab1 = new Tab("tab_1", "panel_1");<br>
&#160;&#160;&#160;&#160;tabpanel1.add(tab1);<br>
<br>
&#160;&#160;&#160;&#160;var tab2&#160;&#160;= new Tab("tab_2", "panel_2");<br>
&#160;&#160;&#160;&#160;tabpanel1.add(tab2);<br>
<br>
&#160;&#160;&#160;&#160;var tab3 = new Tab("tab_3", "panel_3");<br>
&#160;&#160;&#160;&#160;tabpanel1.add(tab3);<br>

<br>
&#160;&#160;&#160;&#160;var tab4 = new Tab("tab_4", "panel_4");<br>
&#160;&#160;&#160;&#160;tabpanel1.add(tab4);<br>
&#160;&#160;&#160;&#160;<br>
&#160;&#160;&lt;/script&gt;<br>
<br>
&#160;&#160;<br>
&#160;&#160;&lt;h2&gt;Happy Time Pizza On-line Ordering System&lt;/h2&gt;<br>
<br>
&#160;&#160;&lt;form&gt;<br>

&#160;&#160;<br>
&#160;&#160;&#160;&#160;&lt;div id="tabpanel_1" class="tabpanel"&gt;<br>
<br>
&#160;&#160;&#160;&#160;&#160;&#160;&lt;ul id="tablist_1" role="tablist"&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li id="tab_1" role="tab" tabindex="0"&gt;Crust&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li id="tab_2" role="tab" tabindex="-1"&gt;Veges&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li id="tab_3" role="tab" tabindex="-1"&gt;Carnivore&lt;/li&gt;<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li id="tab_4" role="tab" tabindex="-1"&gt;Delivery&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&lt;/ul&gt;<br>
<br>
&#160;&#160;&#160;&#160;&#160;&#160;&lt;div id="panel_1" role="tabpanel" aria-labelledby="tab_1" aria-hidden="false" style="display: none"&gt;<br>
&#160;&#160;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&lt;h3&gt;Select Crust&lt;/h3&gt;<br>
&#160;&#160;&#160;&#160; <br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;ul class="controlList"&gt;<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab1)" type="radio" name="crust" value="crust1"/&gt;Deep Dish&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab1)" type="radio" name="crust" value="crust1"/&gt;Thick and cheesey&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab1)" type="radio" name="crust" value="crust1"/&gt;Thick and spicey&lt;/label&gt;&lt;/li&gt;<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab1)" type="radio" name="crust" value="crust1"/&gt;Thin&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160; &lt;/ul&gt;<br>
&#160;&#160;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&lt;/div&gt;<br>
<br>
&#160;&#160;&#160;&#160;&#160;&#160;&lt;div id="panel_2" role="tabpanel" aria-labelledby="tab_2" aria-hidden="true" style="display: none"&gt;<br>
&#160;&#160;<br>

&#160;&#160;&#160;&#160;&#160;&#160;&lt;h3&gt;Select Vegetables&lt;/h3&gt;&#160;&#160;<br>
&#160;&#160;&#160;&#160; <br>
&#160;&#160;&#160;&#160;&#160;&#160; &lt;ul class="controlList"&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege1"/&gt;Black Olives&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege2"/&gt;Green Olives&lt;/label&gt;&lt;/li&gt;<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege3"/&gt;Green Peppers&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege4"/&gt;Mushrooms&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege5"/&gt;Black Olives&lt;/label&gt;&lt;/li&gt;<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege6"/&gt;Onions&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab2)" type="checkbox" name="vege7"/&gt;Pineapple&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160; &lt;/ul&gt;<br>

&#160;&#160; <br>
&#160;&#160;&#160;&#160;&lt;/div&gt;&#160;&#160; <br>
&#160;&#160;<br>
&#160;&#160;&#160;&#160;&lt;div id="panel_3" role="tabpanel" aria-labelledby="tab_3" aria-hidden="true" style="display: none"&gt;<br>
&#160;&#160;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&lt;h3&gt;Select Carnivore Options&lt;/h3&gt;<br>
&#160;&#160;&#160;&#160; <br>
&#160;&#160;&#160;&#160;&#160;&#160;&lt;ul class="controlList"&gt;<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab3)" type="checkbox" name="meat1"/&gt;Hamburger&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab3)" type="checkbox" name="meat2"/&gt;Ham&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab3)" type="checkbox" name="meat3"/&gt;Itailian Sausage&lt;/label&gt;&lt;/li&gt;<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab3)" type="checkbox" name="meat4"/&gt;Pepporroni&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&lt;/ul&gt;<br>
&#160;&#160;<br>
&#160;&#160;&#160;&#160;&lt;/div&gt;<br>
<br>
&#160;&#160;&#160;&#160;&lt;div id="panel_4" role="tabpanel" aria-labelledby="tab_4" aria-hidden="true" style="display: none"&gt;<br>
&#160;&#160;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&lt;h3&gt;Select Delivery Menthod&lt;/h3&gt;<br>

&#160;&#160;&#160;&#160; <br>
&#160;&#160;&#160;&#160;&#160;&#160; &lt;ul class="controlList"&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab4)" type="radio" name="delivery" value="delivery1"/&gt;Eat in&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab4)" type="radio" name="delivery" value="delivery2"/&gt;Carry out&lt;/label&gt;&lt;/li&gt;<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab4)" type="radio" name="delivery" value="delivery3"/&gt;Delivery&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;li&gt;&lt;label&gt;&lt;input onfocus="handleInputFocusEvent(event, tab4)" type="radio" name="delivery" value="delivery4"/&gt;Overnight mail&lt;/label&gt;&lt;/li&gt;<br>
&#160;&#160;&#160;&#160;&#160;&#160; &lt;/ul&gt;<br>

&#160;&#160;<br>
&#160;&#160;&#160;&#160;&lt;/div&gt;<br>
<br>
&#160;&#160;&lt;/div&gt;<br>
&#160;&#160;<br>
&#160;&#160;&lt;/form&gt;<br>
&lt;/div&gt;  </div>
  <h2>Javascript Source Code</h2>
  <p><a id="lsc1"href="#lsc1" onclick="changeSourceCodeView(this, 'sc1')">Show Javascript Source Code: globals.js</a></p>

  <div id="sc1" class="codebox" style="display: none">
&#160;&#160;&lt;script type="text/javascript"&gt;<br>
/**
<br>
 *
<br>
 * The Globale Variables
<br>
 */
<br>

<br>

if (!window.Node) {
<br>
&#160;&#160;var Node = {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// If there is no Node object, define one
<br>
&#160;&#160;&#160;&#160;ELEMENT_NODE: 1,&#160;&#160;&#160;&#160;// with the following properties and values.
<br>
&#160;&#160;&#160;&#160;ATTRIBUTE_NODE: 2,&#160;&#160;// Note that these are HTML node types only.
<br>
&#160;&#160;&#160;&#160;TEXT_NODE: 3,&#160;&#160;&#160;&#160;&#160;&#160; // For XML-specific nodes, you need to add
<br>
&#160;&#160;&#160;&#160;COMMENT_NODE: 8,&#160;&#160;&#160;&#160;// other constants here.

<br>
&#160;&#160;&#160;&#160;DOCUMENT_NODE: 9,
<br>
&#160;&#160;&#160;&#160;DOCUMENT_FRAGMENT_NODE: 11
<br>
&#160;&#160;}
<br>
} 
<br>

<br>

<br>
var KEY_PAGEUP&#160;&#160; = 33;
<br>

var KEY_PAGEDOWN = 34;
<br>
var KEY_END&#160;&#160;&#160;&#160;&#160;&#160;= 35;
<br>
var KEY_HOME&#160;&#160;&#160;&#160; = 36;
<br>

<br>
var KEY_LEFT&#160;&#160;&#160;&#160; = 37;
<br>
var KEY_UP&#160;&#160;&#160;&#160;&#160;&#160; = 38;

<br>
var KEY_RIGHT&#160;&#160;&#160;&#160;= 39;
<br>
var KEY_DOWN&#160;&#160;&#160;&#160; = 40;
<br>

<br>
var KEY_SPACE&#160;&#160;&#160;&#160;= 32;
<br>
var KEY_TAB&#160;&#160;&#160;&#160;&#160;&#160;= 9;
<br>

<br>
var KEY_BACKSPACE = 8;
<br>
var KEY_DELETE&#160;&#160;&#160;&#160;= 46;
<br>
var KEY_ENTER&#160;&#160;&#160;&#160; = 13;
<br>
var KEY_INSERT&#160;&#160;&#160;&#160;= 45;
<br>
var KEY_ESCAPE&#160;&#160;&#160;&#160;= 27;
<br>

<br>
var KEY_F1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 112;
<br>
var KEY_F2&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 113;
<br>
var KEY_F3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 114;
<br>
var KEY_F4&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 115;
<br>
var KEY_F5&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 116;
<br>
var KEY_F6&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 117;

<br>
var KEY_F7&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 118;
<br>
var KEY_F8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 119;
<br>
var KEY_F9&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 120;
<br>
var KEY_F10&#160;&#160;&#160;&#160;&#160;&#160; = 121;
<br>

<br>
var KEY_M&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; = 77;

<br>

<br>
var NS_XHTML = "http://www.w3.org/1999/xhtml"
<br>
var NS_STATE = "http://www.w3.org/2005/07/aaa";
<br>

<br>
// **********************************************
<br>
// *
<br>
// * Commonly used helper functions
<br>
// *
<br>

// **********************************************
<br>

<br>
/**
<br>
 *
<br>
 * nextSiblingElement
<br>
 * 
<br>
 * @contructor

<br>
 */
<br>
 
<br>
function nextSiblingElement( node ) {
<br>

<br>
&#160;&#160;var next_node = node.nextSibling;
<br>

<br>
&#160;&#160;while( next_node
<br>
&#160;&#160;&#160;&#160;&amp;&amp; (next_node.nodeType != Node.ELEMENT_NODE) ) {

<br>
&#160;&#160;&#160;&#160;next_node = next_node.nextSibling;
<br>
&#160;&#160;}&#160;&#160;// endwhile
<br>

<br>
&#160;&#160;return next_node;
<br>
&#160;&#160;
<br>
}
<br>

<br>
/**

<br>
 *
<br>
 * previousSiblingElement 
<br>
 * 
<br>
 * @param ( node ) node object for which you are looking for the next sibling element node
<br>
 *
<br>
 * @return ( node) next sibling or "null"

<br>
 */
<br>
 
<br>
function previousSiblingElement( node ) {
<br>

<br>
&#160;&#160;var next_node = node.previousSibling;
<br>

<br>
&#160;&#160;while( next_node
<br>
&#160;&#160;&#160;&#160;&amp;&amp; (next_node.nodeType != Node.ELEMENT_NODE) ) {

<br>
&#160;&#160;&#160;&#160;next_node = next_node.previousSibling;
<br>
&#160;&#160;}&#160;&#160;// endwhile
<br>

<br>
&#160;&#160;return next_node;
<br>
&#160;&#160;
<br>
}
<br>

<br>
/**

<br>
 *
<br>
 * firstChildElement 
<br>
 * 
<br>
 * @param ( node ) node object for which you are looking for the first child element node
<br>
 *
<br>
 * @return ( node) next sibling or "null"

<br>
 */
<br>
 
<br>
function firstChildElement( node ) {
<br>

<br>
&#160;&#160;var next_node = node.firstChild;
<br>

<br>
&#160;&#160;while( next_node
<br>
&#160;&#160;&#160;&#160;&amp;&amp; (next_node.nodeType != Node.ELEMENT_NODE) ) {

<br>
&#160;&#160;&#160;&#160;next_node = next_node.nextSibling;
<br>
&#160;&#160;}&#160;&#160;// endwhile
<br>

<br>

<br>
&#160;&#160;return next_node;
<br>
&#160;&#160;
<br>
}
<br>

<br>
/**
<br>
 *
<br>
 * getTextContentOfNode
<br>
 * 
<br>
 * @contructor
<br>
 */

<br>
 
<br>
function getTextContentOfNode( node ) {
<br>

<br>
&#160;&#160;var next_node = node.firstChild;
<br>
&#160;&#160;var str = "";
<br>

<br>
&#160;&#160;while( next_node ) {
<br>
&#160;&#160;&#160;&#160;
<br>

&#160;&#160;&#160;&#160;if( (next_node.nodeType == Node.TEXT_NODE ) &amp;&amp;
<br>
&#160;&#160;&#160;&#160;&#160;&#160;(next_node.length &gt; 0 )
<br>
&#160;&#160;&#160;&#160; )
<br>
&#160;&#160;&#160;&#160;&#160;&#160;str += next_node.data;
<br>
&#160;&#160;&#160;&#160;
<br>
&#160;&#160;&#160;&#160;
<br>
&#160;&#160;&#160;&#160;next_node = next_node.nextSibling;

<br>
&#160;&#160;&#160;&#160;
<br>
&#160;&#160;}&#160;&#160;// endwhile
<br>

<br>
&#160;&#160;return str;
<br>
&#160;&#160;
<br>
}
<br>

<br>
/**

<br>
 *
<br>
 * setTextContentOfNode
<br>
 * 
<br>
 * @contructor
<br>
 */
<br>
 

<br>
function setTextContentOfNode( node, text ) {
<br>

<br>
&#160;&#160; // Generate a new text node with the text value
<br>
&#160;&#160;&#160;&#160;var text_node = document.createTextNode(text);
<br>
&#160;&#160;
<br>
&#160;&#160;&#160;&#160;// Remove child nodes to remove text
<br>
&#160;&#160;&#160;&#160;while (node.firstChild) {
<br>
&#160;&#160;&#160;&#160;&#160;&#160;node.removeChild(node.firstChild);

<br>
&#160;&#160;&#160;&#160;} // while
<br>

<br>
&#160;&#160;&#160;&#160;// Append new text to the container element
<br>
&#160;&#160;&#160;&#160;node.appendChild( text_node );
<br>

<br>
}
<br>
&#160;&#160;&lt;/script&gt;<br>
  </div>

  <p><a id="lsc2"href="#lsc2" onclick="changeSourceCodeView(this, 'sc2')">Show Javascript Source Code: widgets.js</a></p>
  <div id="sc2" class="codebox" style="display: none">
&#160;&#160;&lt;script type="text/javascript"&gt;<br>
// JavaScript Document<br>
// Widgets is a way to initialize widgets in the ARIA examples<br>
<br>
 <br>
function Widgets() {<br>
&#160;&#160;this.widgets = new Array();<br>

}<br>
<br>
/**<br>
 * add is member of the Widgets Object <br>
 * and used add a widget ot the list of widgets to be intitialized <br>
 * as part of the onload event<br>
 * The controls array is the list of controls to initialize<br>

 * @member Enable<br>
 * @return none<br>
 */<br>
<br>
Widgets.prototype.add = function(obj) {<br>
&#160;&#160;this.widgets[this.widgets.length] = obj;<br>
}<br>
<br>

/**<br>
 * init is member of the Widgets Object <br>
 * and is called by the onload event to initialize widgets in the web resource<br>
 * The controls array is the list of controls to initialize<br>
 * @member Enable<br>
 * @return none<br>

 */<br>
<br>
Widgets.prototype.init = function() {<br>
&#160;&#160; &#160;&#160;<br>
&#160;&#160; for(var i = 0; i &lt; this.widgets.length; i++ )<br>
&#160;&#160;&#160;&#160; this.widgets[i].init();<br>
}<br>

<br>
var widgets = new Widgets();<br>
<br>
function initApp() {<br>
&#160;&#160;widgets.init();<br>
}<br>
<br>
&#160;&#160;&lt;/script&gt;<br>
  </div>
  <p><a id="lsc3"href="#lsc3" onclick="changeSourceCodeView(this, 'sc3')">Show Javascript Source Code: browser.js</a></p>

  <div id="sc3" class="codebox" style="display: none">
&#160;&#160;&lt;script type="text/javascript"&gt;<br>
// JavaScript Document<br>
// This module is to abstract browser dependencies<br>
// This makes the widget code cleaner and earier to read by making most browser specfic coding<br>
// in one place rather han scatered throghot documents<br>
var ARIA_STATE = "aria-";<br>
<br>
//<br>

// WebBrowser object to abstract accessibility API differences between web standards supporting browsers and Internet Explorer 7.0<br>
//<br>
// The state variable keeps track of current state of checkbox<br>
function WebBrowser() {<br>
<br>
}<br>
<br>
<br>
//<br>
// keyCode is a function to get the keycode from a keypress event<br>

//<br>
// @param ( event object) event is an event object<br>
//<br>
// @return ( keycode ) <br>
<br>
WebBrowser.prototype.keyCode = function( event ) {<br>
&#160;&#160;var e = event || window.event;<br>
&#160;&#160;<br>
&#160;&#160;return e.keyCode;<br>
}&#160;&#160;<br>

<br>
/**<br>
 * OnClick Event Simulator<br>
 *<br>
 * @param ( node ) DOM node object<br>
 * @return nothing<br>
 */<br>

<br>
if( document.createEvent ) {<br>
<br>
&#160;&#160;// If a web standards based browser implement this function<br>
<br>
&#160;&#160;WebBrowser.prototype.simulateOnClickEvent = function( node ) {<br>
&#160;&#160;&#160;&#160;// W3C DOM Events way to trigger a "click" event<br>
&#160;&#160;&#160;&#160;var e = document.createEvent('MouseEvents');<br>
&#160;&#160;&#160;&#160;e.initEvent( 'click', true, true );<br>
<br>
&#160;&#160;&#160;&#160;node.dispatchEvent( e );<br>

<br>
&#160;&#160;} <br>
<br>
} else {<br>
<br>
&#160;&#160;// If a Microsoft IE based browser implement this function<br>
&#160;&#160;<br>
&#160;&#160;WebBrowser.prototype.simulateOnClickEvent = function( node ) {<br>
<br>
&#160;&#160;&#160;&#160;var e = document.createEventObject();<br>
&#160;&#160;&#160;&#160;node.fireEvent( "onclick", e );<br>

<br>
&#160;&#160;} // endif<br>
<br>
}<br>
<br>
if ( document.addEventListener ) {<br>
<br>
&#160;&#160;// If a web standards based browser implement this function<br>
<br>
&#160;&#160;WebBrowser.prototype.setMouseCapture = function( node, clickHandler, downHandler, moveHandler, upHandler ) {<br>
<br>
&#160;&#160;&#160;&#160;if( clickHandler )<br>

&#160;&#160;&#160;&#160;&#160;&#160;document.addEventListener( "click",&#160;&#160;&#160;&#160; clickHandler, true );<br>
&#160;&#160;&#160;&#160;<br>
&#160;&#160;&#160;&#160;if( downHandler )<br>
&#160;&#160;&#160;&#160;&#160;&#160;document.addEventListener( "mousedown", downHandler,&#160;&#160;true );<br>
<br>
&#160;&#160;&#160;&#160;if( moveHandler )<br>
&#160;&#160;&#160;&#160;&#160;&#160;document.addEventListener( "mousemove", moveHandler,&#160;&#160;true );<br>
&#160;&#160;&#160;&#160;<br>

&#160;&#160;&#160;&#160;if( upHandler)<br>
&#160;&#160;&#160;&#160;&#160;&#160;document.addEventListener( "mouseup",&#160;&#160; upHandler,&#160;&#160;&#160;&#160;true );<br>
<br>
&#160;&#160;}<br>
<br>
&#160;&#160;WebBrowser.prototype.releaseMouseCapture = function( node, clickHandler, downHandler, moveHandler, upHandler ) {<br>
<br>
&#160;&#160;if( upHandler)<br>
&#160;&#160;&#160;&#160;&#160;&#160;document.removeEventListener( "mouseup",&#160;&#160; upHandler,&#160;&#160;&#160;&#160;true );<br>

&#160;&#160;&#160;&#160;&#160;&#160;<br>
&#160;&#160;&#160;&#160;if( moveHandler )<br>
&#160;&#160;&#160;&#160;&#160;&#160;document.removeEventListener( "mousemove", moveHandler,&#160;&#160;true );<br>
&#160;&#160;&#160;&#160;<br>
&#160;&#160;&#160;&#160;if( downHandler )<br>
&#160;&#160;&#160;&#160;&#160;&#160;document.removeEventListener( "mousedown", downHandler,&#160;&#160;true );<br>
&#160;&#160;&#160;&#160;&#160;&#160;<br>
&#160;&#160;&#160;&#160;if( clickHandler )<br>
&#160;&#160;&#160;&#160;&#160;&#160;document.removeEventListener( "click",&#160;&#160;&#160;&#160; clickHandler, true );<br>

<br>
&#160;&#160;}<br>
<br>
} else {<br>
<br>
&#160;&#160;// If a Microsoft IE based browser implement this function<br>
<br>
&#160;&#160;WebBrowser.prototype.setMouseCapture = function( node, clickHandler, downHandler, moveHandler, upHandler ) {<br>
<br>
&#160;&#160; node.setCapture();<br>
&#160;&#160; if( clickHandler)<br>

&#160;&#160;&#160;&#160; node.attachEvent( "onclick", clickHandler );<br>
&#160;&#160;&#160;&#160; <br>
&#160;&#160; if( downHandler)<br>
&#160;&#160;&#160;&#160; node.attachEvent( "onmousedown", downHandler );<br>
&#160;&#160;&#160;&#160; <br>
&#160;&#160; if( moveHandler )<br>
&#160;&#160;&#160;&#160; node.attachEvent( "onmousemove", moveHandler );<br>

&#160;&#160;&#160;&#160; <br>
&#160;&#160; if( upHandler )<br>
&#160;&#160;&#160;&#160; node.attachEvent( "onmouseup", upHandler );<br>
<br>
&#160;&#160;} // endif<br>
<br>
&#160;&#160;WebBrowser.prototype.releaseMouseCapture = function( node, clickHandler, downHandler, moveHandler, upHandler ) {<br>
<br>
&#160;&#160; if( upHandler )<br>

&#160;&#160;&#160;&#160; node.detachEvent( "onmouseup", upHandler );<br>
&#160;&#160;&#160;&#160; <br>
&#160;&#160; if( moveHandler )<br>
&#160;&#160;&#160;&#160; node.detachEvent( "onmousemove", moveHandler );<br>
&#160;&#160;&#160;&#160; <br>
&#160;&#160; if( downHandler)<br>
&#160;&#160;&#160;&#160; node.detachEvent( "onmousedown", downHandler );<br>

&#160;&#160;&#160;&#160; <br>
&#160;&#160; if( clickHandler)<br>
&#160;&#160;&#160;&#160; node.detachEvent( "onclick", clickHandler );<br>
&#160;&#160;&#160;&#160; <br>
&#160;&#160;&#160;&#160; node.releaseCapture();<br>
<br>
&#160;&#160;} // endif<br>
<br>

<br>
}<br>
<br>
<br>
<br>
<br>
if (typeof document.documentElement.setAttributeNS != 'undefined') {<br>
<br>
&#160;&#160;WebBrowser.prototype.stopPropagation = function( event ) {<br>
&#160;&#160;&#160;&#160;event.stopPropagation();<br>
&#160;&#160;&#160;&#160;event.preventDefault();<br>
&#160;&#160;&#160;&#160;return false;<br>

&#160;&#160;}<br>
<br>
&#160;&#160;WebBrowser.prototype.target = function( event ) {<br>
&#160;&#160;return event.target;<br>
&#160;&#160;}<br>
&#160;&#160;<br>
&#160;&#160;WebBrowser.prototype.attrName = function( event ) {<br>
&#160;&#160;return event.attrName;<br>
&#160;&#160;}<br>
&#160;&#160;<br>

 <br>
&#160;&#160;WebBrowser.prototype.charCode = function(event) {<br>
&#160;&#160;&#160;&#160; return event.charCode;<br>
&#160;&#160;}<br>
<br>
&#160;&#160;WebBrowser.prototype.calculateOffsetLeft = function( node ) {<br>
&#160;&#160;return node.offsetLeft;&#160;&#160;&#160;&#160;<br>
&#160;&#160;}<br>
&#160;&#160;<br>

&#160;&#160;WebBrowser.prototype.calculateOffsetTop = function( node ) {<br>
&#160;&#160;return node.offsetTop;&#160;&#160;&#160;&#160;<br>
&#160;&#160;}<br>
&#160;&#160;<br>
&#160;&#160;WebBrowser.prototype.pageX = function( e ) {<br>
&#160;&#160;&#160;&#160;return e.pageX;&#160;&#160;&#160;&#160;<br>
&#160;&#160;}<br>
&#160;&#160;<br>
&#160;&#160;WebBrowser.prototype.pageY = function( e ) {<br>
&#160;&#160;&#160;&#160;return e.pageY;&#160;&#160;&#160;&#160;<br>

&#160;&#160;}<br>
&#160;&#160;<br>
&#160;&#160;WebBrowser.prototype.setNodePosition = function(node,left,top) {<br>
&#160;&#160;&#160;&#160;node.style.left = left+"px";<br>
&#160;&#160;&#160;&#160;node.style.top = top+"px";<br>
&#160;&#160;}<br>
<br>
<br>
} else {<br>
<br>
&#160;&#160;WebBrowser.prototype.stopPropagation = function( event ) {<br>

&#160;&#160;&#160;&#160;event.cancelBubble = true; <br>
&#160;&#160;&#160;&#160;event.returnValue = false;<br>
&#160;&#160;&#160;&#160;return false;<br>
&#160;&#160;}<br>
<br>
&#160;&#160;WebBrowser.prototype.charCode = function(event) {<br>
&#160;&#160;&#160;&#160;return window.browser.keyCode( event );<br>
&#160;&#160;}<br>
<br>
&#160;&#160;WebBrowser.prototype.target = function( event ) {<br>

&#160;&#160;&#160;&#160;return event.srcElement;<br>
&#160;&#160;}<br>
<br>
&#160;&#160;WebBrowser.prototype.attrName = function( event ) {<br>
&#160;&#160;return event.propertyName;<br>
&#160;&#160;}<br>
&#160;&#160;&#160;&#160;<br>
&#160;&#160;WebBrowser.prototype.calculateOffsetLeft = function(node) {<br>
&#160;&#160;var offset = 0;<br>
&#160;&#160;<br>

&#160;&#160;while( node ) {<br>
&#160;&#160;&#160;&#160;offset += node.offsetLeft;<br>
&#160;&#160;&#160;&#160;node = node.offsetParent;<br>
&#160;&#160;}<br>
&#160;&#160;<br>
&#160;&#160;return offset;&#160;&#160;&#160;&#160;<br>
&#160;&#160;}<br>
&#160;&#160;<br>
&#160;&#160;WebBrowser.prototype.calculateOffsetTop = function(node) {<br>
&#160;&#160;var offset = 0;<br>

&#160;&#160;<br>
&#160;&#160;while( node ) {<br>
&#160;&#160;&#160;&#160;offset = offset + node.offsetTop;<br>
&#160;&#160;&#160;&#160;node = node.offsetParent;<br>
&#160;&#160;}<br>
&#160;&#160;<br>
&#160;&#160;return offset;&#160;&#160;&#160;&#160;<br>
&#160;&#160;}<br>
&#160;&#160;<br>
&#160;&#160;WebBrowser.prototype.pageX = function( e ) {<br>

&#160;&#160;&#160;&#160;return e.clientX + (document.documentElement.scrollLeft || document.body.scrollLeft);&#160;&#160;&#160;&#160;<br>
&#160;&#160;}<br>
&#160;&#160;<br>
&#160;&#160;WebBrowser.prototype.pageY = function( e ) {<br>
&#160;&#160;&#160;&#160;return e.clientY + (document.documentElement.scrollTop || document.body.scrollTop);&#160;&#160;&#160;&#160;<br>
&#160;&#160;}<br>
&#160;&#160;<br>
&#160;&#160;WebBrowser.prototype.setNodePosition = function(node,left,top) {<br>
&#160;&#160;&#160;&#160;offsetx = 0;<br>
&#160;&#160;&#160;&#160;offsety = 0;<br>

&#160;&#160;&#160;&#160;nnode = node.offsetParent<br>
&#160;&#160;&#160;&#160;while( nnode ) {<br>
&#160;&#160;&#160;&#160;&#160;&#160;offsetx = offsetx + nnode.offsetLeft;<br>
&#160;&#160;&#160;&#160;&#160;&#160;offsety = offsety + nnode.offsetTop;<br>
&#160;&#160;&#160;&#160;&#160;&#160;nnode = nnode.offsetParent;<br>
&#160;&#160;&#160;&#160;}<br>
&#160;&#160;&#160;&#160;node.style.left = left-offsetx+"px";<br>
&#160;&#160;&#160;&#160;node.style.top = top-offsety+"px";<br>
&#160;&#160;}<br>

&#160;&#160;<br>
};<br>
<br>
<br>
if (document.addEventListener) {<br>
<br>
&#160;&#160;&#160;&#160; // Functions for W3C Standards compliant implementation of adding event handlers<br>
<br>
&#160;&#160;&#160;&#160; WebBrowser.prototype.addEvent = function(elmTarget, sEventName, fCallback) {<br>
&#160;&#160;&#160;&#160;&#160;&#160; elmTarget.addEventListener(sEventName, fCallback, false);<br>

&#160;&#160;&#160;&#160;&#160;&#160; returnValue = true;<br>
&#160;&#160;&#160;&#160; };<br>
<br>
&#160;&#160;&#160;&#160; WebBrowser.prototype.removeEvent = function(elmTarget, sEventName, fCallback) {<br>
&#160;&#160;&#160;&#160;&#160;&#160; elmTarget.removeEventListener(sEventName, fCallback, false);<br>
&#160;&#160;&#160;&#160;&#160;&#160; returnValue = true;<br>
&#160;&#160;&#160;&#160; };<br>

<br>
&#160;&#160;&#160;&#160; WebBrowser.prototype.addChangeEvent =&#160;&#160;function(elmTarget, fCallback) {<br>
&#160;&#160;&#160;&#160;&#160;&#160;elmTarget.addEventListener("DOMAttrModified", fCallback, false);<br>
&#160;&#160;&#160;&#160;&#160;&#160;returnValue = true;<br>
&#160;&#160;&#160;&#160;};<br>
<br>
} else {<br>
<br>
&#160;&#160;if(document.attachEvent) {<br>

<br>
&#160;&#160;&#160;&#160; // IE Specific Event handler functions<br>
&#160;&#160;&#160;&#160; WebBrowser.prototype.addEvent = function(elmTarget, sEventName, fCallback) {<br>
&#160;&#160;&#160;&#160;&#160;&#160; returnValue = elmTarget.attachEvent('on' + sEventName, fCallback);<br>
&#160;&#160;&#160;&#160; };<br>
<br>
&#160;&#160;&#160;&#160; WebBrowser.prototype.removeEvent = function(elmTarget, sEventName, fCallback) {<br>

&#160;&#160;&#160;&#160;&#160;&#160; returnValue = elmTarget.detachEvent('on' + sEventName, fCallback);<br>
&#160;&#160;&#160;&#160; };<br>
<br>
&#160;&#160;&#160;&#160;WebBrowser.prototype.addChangeEvent =&#160;&#160;function(elmTarget, fCallback) {<br>
&#160;&#160;&#160;&#160;&#160;&#160;returnValue = elmTarget.attachEvent("onpropertychange", fCallback);<br>
&#160;&#160;&#160;&#160;};<br>
<br>
&#160;&#160;} else {<br>

<br>
&#160;&#160;&#160;&#160; // For browsers that do not support W3C or IE event functions<br>
&#160;&#160;&#160;&#160; WebBrowser.prototype.addEvent = function(elmTarget, sEventName, fCallback) {<br>
&#160;&#160;&#160;&#160;&#160;&#160; return false;<br>
&#160;&#160;&#160;&#160; };<br>
<br>
&#160;&#160;&#160;&#160; WebBrowser.prototype.removeEvent = function(elmTarget, sEventName, fCallback) {<br>

&#160;&#160;&#160;&#160;&#160;&#160; return false;<br>
&#160;&#160;&#160;&#160; };<br>
<br>
&#160;&#160;&#160;&#160; WebBrowser.prototype.addChangeEvent =&#160;&#160;function(elmTarget, fCallback) {<br>
&#160;&#160;&#160;&#160;&#160;&#160; return false;<br>
&#160;&#160;&#160;&#160; };<br>

<br>
&#160;&#160;}<br>
<br>
}<br>
<br>
var browser = new WebBrowser();<br>
<br>
&#160;&#160;&lt;/script&gt;<br>
  </div>
  <p><a id="lsc4"href="#lsc4" onclick="changeSourceCodeView(this, 'sc4')">Show Javascript Source Code: tabpanel1.js</a></p>

  <div id="sc4" class="codebox" style="display: none">
&#160;&#160;&lt;script type="text/javascript"&gt;<br>
// JavaScript Document<br>
<br>
/**<br>
 * NODE_LAST_FOCUS keeps track of which form element in the tab panel had last focus<br>
 */<br>
<br>
var NODE_LAST_FOCUS = null;<br>

<br>
/**<br>
 *<br>
 * The TabPanel object is used to maintain information about a Tab Panel widget<br>
 * including the collection of tab objects <br>
 * <br>
 * @contructor<br>

 */<br>
 <br>
<br>
function TabPanel( id ) {<br>
<br>
&#160;&#160;this.id = id;<br>
&#160;&#160;this.tabs = new Array();<br>
&#160;&#160;this.current_tab = 0;<br>
&#160;&#160;this.last_keycode = 0;<br>

<br>
<br>
}<br>
<br>
/**<br>
 * init is a subclass of TabPanel and is used to initialize the event handlers and <br>
 * tabs in a tab panel.<br>
 * <br>
 * @member TabPanel<br>

 * @return nothing<br>
 */<br>
 <br>
TabPanel.prototype.init = function() {<br>
<br>
&#160;&#160;this.node = document.getElementById(this.id);<br>
<br>
&#160;&#160;var obj = this;<br>
<br>

&#160;&#160;browser.addEvent(this.node, "click",&#160;&#160; function(event) {handleTabPanelClickEvent(event, obj); }, false);<br>
&#160;&#160;browser.addEvent(this.node, "keydown", function(event) {handleTabPanelKeyDownEvent(event, obj); }, true);<br>
&#160;&#160;browser.addEvent(this.node, "keypress", function(event) {handleTabPanelKeyPressEvent(event, obj); }, true);<br>
<br>
&#160;&#160;for(var i = 0; i &lt; this.tabs.length; i++ )<br>
&#160;&#160;&#160;&#160; this.tabs[i].init();<br>
<br>

&#160;&#160;selectTabPanel( this, this.current_tab );<br>
<br>
}<br>
<br>
/**<br>
 * add is a subclass of TabPanel <br>
 * The tab obj is added to the list of tabs in a Tab Panel object<br>
 *<br>

 * @member TabPanel<br>
 * @param ( Tab Object) obj<br>
 * @return nothing<br>
 */<br>
 <br>
TabPanel.prototype.add = function(obj) {<br>
&#160;&#160;this.tabs[this.tabs.length] = obj;<br>

}<br>
<br>
<br>
/**<br>
 *<br>
 * The Tab object is used to maintain information about a panel in a Tab Panel widget <br>
 * including the node of the last control that had focus in the tab panel<br>
 *<br>

 * @params ( IDREF ) tab_id&#160;&#160; the id of the tab control container element<br>
 * @params ( IDREF ) panel_id the id of the panel container element<br>
 * @contructor<br>
 */<br>
 <br>
function Tab( tab_id, panel_id ) {<br>

<br>
&#160;&#160;this.tab_id = tab_id;<br>
&#160;&#160;this.panel_id = panel_id;<br>
&#160;&#160;this.node_last_focus = null;<br>
<br>
}<br>
<br>
/**<br>
 * init is a subclass of Tab<br>
 * The init function currentlt doesn't do anything right now<br>

 * <br>
 * @member TabPanel<br>
 * @return nothing<br>
 */<br>
 <br>
Tab.prototype.init = function() {<br>
<br>

&#160;&#160;<br>
}<br>
<br>
<br>
/**<br>
 * nextTabPanel moves to the next tab panel <br>
 * Updates the current tab panel index<br>
 * If panel was selected before in current session focus is moved to last control with focus<br>
 * Used by keyboard event handlers to change currrent tab panel<br>

 *<br>
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event<br>
 * @return nothing<br>
 */<br>
 <br>
nextTabPanel = function( tab_panel ) {<br>
<br>

&#160;&#160; if( tab_panel.current_tab &lt; (tab_panel.tabs.length - 1) ) {<br>
<br>
&#160;&#160; new_tab = tab_panel.current_tab + 1;<br>
&#160;&#160; <br>
&#160;&#160; selectTabPanel( tab_panel, new_tab );<br>
<br>
&#160;&#160; } // endif<br>

<br>
}<br>
<br>
<br>
/**<br>
 * previousTabPanel moves to the previous tab panel <br>
 * Updates the current tab panel index<br>
 * If panel was selected before in current session focus is moved to last control with focus<br>
 * Used by keyboard event handlers to change currrent tab panel<br>

 *<br>
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event<br>
 * @return nothing<br>
 */<br>
 <br>
previousTabPanel = function( tab_panel ) {<br>
<br>

&#160;&#160; if( tab_panel.current_tab &gt; 0 ) {<br>
&#160;&#160; <br>
&#160;&#160; new_tab = tab_panel.current_tab - 1;<br>
&#160;&#160; <br>
&#160;&#160; selectTabPanel( tab_panel, new_tab );<br>
&#160;&#160;&#160;&#160; <br>

&#160;&#160; } // endif<br>
<br>
}<br>
<br>
<br>
/**<br>
 * selectTabPanel moves to the previous tab panel <br>
 * Updates the current tab panel index<br>
 * Used by keyboard event handlers to change currrent tab panel<br>

 * If panel was selected before in current session focus is moved to last control with focus<br>
 *<br>
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event<br>
 * @param ( TabPanel object) index is the index in the panel list of the selected panel <br>
 * @return nothing<br>
 */<br>

 <br>
function selectTabPanel( tab_panel, index ) {<br>
<br>
&#160;&#160; if( (index &gt;= 0 ) &amp;&amp; ( index &lt; tab_panel.tabs.length ) ) {<br>
&#160;&#160; <br>
&#160;&#160;&#160;&#160; // Change the selected state of the current tab&#160;&#160;<br>

&#160;&#160;&#160;&#160; var node_tab = document.getElementById(tab_panel.tabs[tab_panel.current_tab].tab_id);<br>
&#160;&#160;&#160;&#160; node_tab.className = "";<br>
<br>
&#160;&#160;&#160;&#160; // Hide the current tab&#160;&#160; <br>
&#160;&#160;&#160;&#160; document.getElementById(tab_panel.tabs[tab_panel.current_tab].panel_id).style.display = "none";<br>
&#160;&#160; <br>
&#160;&#160;&#160;&#160; // Set ARIA hidden attribute&#160;&#160; <br>

&#160;&#160;&#160;&#160; document.getElementById(tab_panel.tabs[tab_panel.current_tab].panel_id).setAttribute("aria-hidden", "true");<br>
 <br>
&#160;&#160;&#160;&#160; // Put tab in list in the tabindex order<br>
&#160;&#160;&#160;&#160; document.getElementById(tab_panel.tabs[tab_panel.current_tab].tab_id).tabIndex = -1;<br>
<br>
&#160;&#160;&#160;&#160; // Move to the next tab<br>
&#160;&#160;&#160;&#160; tab_panel.current_tab = index;<br>

&#160;&#160; <br>
&#160;&#160;&#160;&#160; // Change the selected state of the current tab&#160;&#160;<br>
&#160;&#160;&#160;&#160; var node_tab = document.getElementById(tab_panel.tabs[tab_panel.current_tab].tab_id);<br>
&#160;&#160;&#160;&#160; node_tab.className = "selected";<br>
<br>
&#160;&#160;&#160;&#160; // Show the current tab&#160;&#160; <br>
&#160;&#160;&#160;&#160; document.getElementById(tab_panel.tabs[tab_panel.current_tab].panel_id).style.display = "block";<br>

<br>
&#160;&#160;&#160;&#160; // Set ARIA hidden attribute&#160;&#160; <br>
&#160;&#160;&#160;&#160; document.getElementById(tab_panel.tabs[tab_panel.current_tab].panel_id).setAttribute("aria-hidden", "false");<br>
<br>
&#160;&#160;&#160;&#160; // Put tab in list in the tabindex order<br>
&#160;&#160;&#160;&#160; document.getElementById(tab_panel.tabs[tab_panel.current_tab].tab_id).tabIndex = 0;<br>
<br>
&#160;&#160;&#160;&#160; // Get control with last focus<br>

&#160;&#160; if( tab_panel.tabs[tab_panel.current_tab].node_last_focus )<br>
&#160;&#160;&#160;&#160;&#160;&#160;tab_panel.tabs[tab_panel.current_tab].node_last_focus.focus();<br>
&#160;&#160; else<br>
&#160;&#160;&#160;&#160;&#160;&#160;document.getElementById(tab_panel.tabs[tab_panel.current_tab].tab_id).focus();<br>
<br>
&#160;&#160; } // endif<br>
<br>
}<br>

<br>
/**<br>
 * nextTab moves to the next tab in a tab panel <br>
 * Updates the current tab panel index<br>
 * Used by keyboard event handlers to change currrent tab panel<br>
 * Keyboard focus moves to the new tab <br>
 *<br>

 * @param ( DOM node ) node_target of the element the event occured on<br>
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event<br>
 * @return nothing<br>
 */<br>
<br>
function nextTab( node_target, tab_panel ) {<br>
<br>
&#160;&#160; var index = indexOfNodeInTabList( node_target, tab_panel);<br>

<br>
&#160;&#160; if( (index &gt;= 0 ) &amp;&amp; (&#160;&#160;index &lt; (tab_panel.tabs.length - 1) ) ) {<br>
&#160;&#160; <br>
&#160;&#160; index++;<br>
&#160;&#160; <br>

&#160;&#160; selectTabPanel( tab_panel, index );<br>
&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; <br>
&#160;&#160;&#160;&#160; document.getElementById(tab_panel.tabs[index].tab_id).focus();<br>
&#160;&#160; <br>
&#160;&#160; } // endif<br>
<br>
}<br>

<br>
/**<br>
 * previousTab moves to the previous tab in a tab panel <br>
 * Updates the current tab panel index<br>
 * Used by keyboard event handlers to change currrent tab panel<br>
 * Keyboard focus moves to the new tab <br>
 *<br>

 * @param ( DOM node ) node_target of the element the event occured on<br>
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event<br>
 * @return nothing<br>
 */<br>
<br>
previousTab = function( node_target, tab_panel ) {<br>
<br>
&#160;&#160; var index = indexOfNodeInTabList( node_target, tab_panel);<br>

<br>
&#160;&#160; if( index &gt; 0 ) {<br>
&#160;&#160; <br>
&#160;&#160; index--;<br>
&#160;&#160; <br>
&#160;&#160; selectTabPanel( tab_panel, index );<br>
&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; <br>

&#160;&#160;&#160;&#160; document.getElementById( tab_panel.tabs[index].tab_id).focus();<br>
<br>
&#160;&#160; } // endif<br>
<br>
}<br>
<br>
/**<br>
 * indexNodeInTabList checcks to see if the node the event ocurred on is in the list of tab in the tab panel<br>
 *<br>

 * @param ( DOM node ) node_target of the element the event occured on<br>
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event<br>
 * @return index of tab panel of current event target; -1 if node target is not in list<br>
 */<br>
<br>
indexOfNodeInTabList = function( node_target, tab_panel ) {<br>
<br>
&#160;&#160;var flag = -1;<br>

&#160;&#160;<br>
&#160;&#160;for(var i = 0; i &lt; tab_panel.tabs.length; i++ ) {<br>
<br>
&#160;&#160;&#160;&#160; if( node_target == document.getElementById( tab_panel.tabs[i].tab_id) ) {<br>
&#160;&#160;&#160;&#160;&#160;&#160;flag = i;<br>
&#160;&#160;&#160;&#160;}&#160;&#160;// endif<br>
<br>
&#160;&#160; }&#160;&#160;// endfor<br>

<br>
&#160;&#160;return flag;<br>
&#160;&#160;<br>
}<br>
<br>
/**<br>
 * isNodeInTabList checcks to see if the node the event ocurred on is in the list of tabs in the tab panel<br>
 *<br>
 * @param ( DOM node ) node_target of the element the event occured on<br>

 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event<br>
 * @return boolean true if the node is in the tab list, otherwise false<br>
 */<br>
<br>
isNodeInTabList = function( node_target, tab_panel ) {<br>
<br>
&#160;&#160;var flag = false;<br>
&#160;&#160;<br>
&#160;&#160;for(var i = 0; !flag &amp;&amp;&#160;&#160;(i &lt; tab_panel.tabs.length); i++ ) {<br>

&#160;&#160;&#160;&#160;<br>
&#160;&#160;&#160;&#160;if( node_target == document.getElementById( tab_panel.tabs[i].tab_id) ) {<br>
&#160;&#160;&#160;&#160;&#160;&#160;flag = true;<br>
&#160;&#160;&#160;&#160;} //endif<br>
&#160;&#160;&#160;&#160;<br>
&#160;&#160;}&#160;&#160;// endfor<br>
<br>
//&#160;&#160;alert(flag);<br>
&#160;&#160;return flag;<br>

&#160;&#160;<br>
}<br>
<br>
/**<br>
 * handleTabPanelKeyDownEvent <br>
 * This function helps stop TAB, PAGEDOWN and PAFEUP propagation<br>
 *<br>
 * @param ( event object ) event <br>

 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event<br>
 * @return boolean false if the event was used by Tab Panel, otherwisee true<br>
 */<br>
<br>
function handleTabPanelKeyPressEvent(event, tab_panel) {<br>
&#160;&#160;&#160;&#160;var e = event || window.event;<br>
<br>
&#160;&#160;&#160;&#160;switch( e.keyCode ) {<br>

<br>
&#160;&#160;&#160;&#160;&#160;&#160;case KEY_PAGEUP:<br>
&#160;&#160;&#160;&#160;&#160;&#160;case KEY_PAGEDOWN:<br>
&#160;&#160;&#160;&#160; if( e.ctrlKey &amp;&amp; !e.altKey &amp;&amp; !e.shiftKey ) {<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return browser.stopPropagation(e);<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } // endif<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break;<br>
<br>
&#160;&#160;&#160;&#160;&#160;&#160;case KEY_TAB:<br>
&#160;&#160;&#160;&#160; if( e.ctrlKey &amp;&amp; !e.altKey ) {<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return browser.stopPropagation(e);<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } // endif<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break;<br>
<br>
&#160;&#160;&#160;&#160;}<br>
<br>
}<br>
<br>
<br>
/**<br>
 * handleTabPanelKeyDownEvent <br>
 * Keyboard commands for the Tab Panel<br>

 *<br>
 * @param ( event object ) event <br>
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event<br>
 * @return boolean false if the event was used by Tab Panel, otherwisee true<br>
 */<br>
<br>
function handleTabPanelKeyDownEvent(event, tab_panel) {<br>

&#160;&#160;&#160;&#160;var e = event || window.event;<br>
&#160;&#160;&#160;&#160;<br>
&#160;&#160;&#160;&#160;// Save information about a modifier key being pressed<br>
&#160;&#160;&#160;&#160;// May want to ignore keyboard events that include modifier keys <br>
&#160;&#160;&#160;&#160;var no_modifier_pressed_flag = !e.ctrlKey &amp;&amp; !e.shiftKey &amp;&amp; !e.altKey;<br>
&#160;&#160;&#160;&#160;var control_modifier_pressed_flag = e.ctrlKey &amp;&amp; !e.shiftKey &amp;&amp; !e.altKey;<br>

<br>
&#160;&#160;&#160;&#160;switch( e.keyCode ) {<br>
&#160;&#160;&#160;&#160;<br>
&#160;&#160;&#160;&#160;&#160;&#160;case KEY_LEFT:<br>
&#160;&#160;&#160;&#160;&#160;&#160;case KEY_UP:<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if( isNodeInTabList( browser.target(e), tab_panel ) &amp;&amp; no_modifier_pressed_flag ) {<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; previousTab( browser.target(e), tab_panel);<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return browser.stopPropagation(event);<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } // endif<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break;<br>
<br>
&#160;&#160;&#160;&#160;&#160;&#160;case KEY_RIGHT:<br>
&#160;&#160;&#160;&#160;&#160;&#160;case KEY_DOWN:<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if( isNodeInTabList( browser.target(e), tab_panel ) &amp;&amp; no_modifier_pressed_flag&#160;&#160;) {<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; nextTab( browser.target(e), tab_panel);<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return browser.stopPropagation(e);<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } // endif<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break;<br>
<br>
&#160;&#160;&#160;&#160;&#160;&#160;case KEY_PAGEDOWN:<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if( control_modifier_pressed_flag ) {<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; nextTabPanel( tab_panel );&#160;&#160;&#160;&#160;&#160;&#160; <br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return browser.stopPropagation(e);<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break;<br>
<br>
&#160;&#160;&#160;&#160;&#160;&#160;case KEY_PAGEUP:<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if( control_modifier_pressed_flag ) {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; previousTabPanel( tab_panel );<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return browser.stopPropagation(e);<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break;<br>
<br>
&#160;&#160;&#160;&#160;&#160;&#160;case KEY_HOME:<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if( no_modifier_pressed_flag ) {<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; selectTabPanel( tab_panel, 0 );<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return browser.stopPropagation(e);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <br>
&#160;&#160;&#160;&#160;&#160;&#160; }<br>
<br>
&#160;&#160;&#160;&#160;&#160;&#160;case KEY_END:<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if( no_modifier_pressed_flag ) {<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; selectTabPanel( tab_panel, (tab_panel.tabs.length - 1)&#160;&#160;);<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return browser.stopPropagation(e);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <br>
&#160;&#160;&#160;&#160;&#160;&#160; }<br>
<br>
<br>
&#160;&#160;&#160;&#160;&#160;&#160;case KEY_TAB:<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if( e.ctrlKey &amp;&amp; !e.altKey ) {<br>
<br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if( e.shiftKey ) <br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;previousTabPanel( tab_panel );&#160;&#160;&#160;&#160;&#160;&#160; <br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; else <br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nextTabPanel( tab_panel );<br>
<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return browser.stopPropagation(e);<br>
&#160;&#160;&#160;&#160;&#160;&#160; <br>

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br>
&#160;&#160;}<br>
&#160;&#160;<br>
&#160;&#160;return true;<br>
&#160;&#160; <br>
}<br>

<br>
<br>
/**<br>
 * handleTabPanelClickEvent<br>
 * handlers changing tab panels when the user uses the mouse to select a tab<br>
 *<br>
 * @param ( event object ) event <br>
 * @param ( TabPanel object) tab_panel is the TabPanel object associated with the event<br>

 * @return boolean false if the event was used by Tab Panel, otherwisee true<br>
 */<br>
<br>
handleTabPanelClickEvent = function(event, tab_panel) {<br>
&#160;&#160; var e = event || window.event;<br>
&#160;&#160;<br>
&#160;&#160; var index = indexOfNodeInTabList( browser.target(e), tab_panel);<br>
<br>

&#160;&#160; if( index &gt;= 0 ) {<br>
&#160;&#160; <br>
&#160;&#160; selectTabPanel( tab_panel, index );<br>
&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; <br>
&#160;&#160;&#160;&#160; document.getElementById( tab_panel.tabs[index].tab_id).focus();<br>
<br>
&#160;&#160;&#160;&#160; return false;<br>

<br>
&#160;&#160; } // endif<br>
<br>
&#160;&#160;return true;<br>
&#160;&#160; <br>
}<br>
<br>
/**<br>
 * handleInputFocusEvent<br>

 * handlers keeping track of which HTML input control last had focus<br>
 * Used by tab panels to restore keyboard focus when using some keyboard commands<br>
 *<br>
 * @param ( event object ) event <br>
 * @param ( TabPanel object) tab is the Tab object associated with the event<br>
 */<br>

<br>
handleInputFocusEvent = function(event, tab) {<br>
&#160;&#160;var e = event || window.event;<br>
 <br>
&#160;&#160;tab.node_last_focus = browser.target(e);<br>
&#160;&#160; <br>
}<br>
&#160;&#160;&lt;/script&gt;<br>
  </div>

  <h2>CSS Source Code</h2>
  <p><a id="lsc5"href="#lsc5" onclick="changeSourceCodeView(this, 'sc5')">Show CSS Source Code: tabpanel1.css</a></p>
  <div id="sc5" class="codebox" style="display: none">
&#160;&#160;&lt;style type="text/css"&gt;<br>
/* CSS Document */<br>
<br>
div.tabpanel ul[role="tablist"] {<br>
&#160;&#160;margin: 0;<br>

&#160;&#160;padding: 0;<br>
&#160;&#160;list-style: none;<br>
}<br>
<br>
div.tabpanel li[role="tab"] {<br>
&#160;&#160;display: inline;<br>
&#160;&#160;margin: 0;<br>
&#160;&#160;border-top: thin solid black;<br>
&#160;&#160;border-left: thin solid black;<br>

&#160;&#160;border-right: thin solid black;<br>
&#160;&#160;padding-left: 1em;<br>
&#160;&#160;padding-right: 1em;<br>
&#160;&#160;padding-top: .25em;<br>
&#160;&#160;padding-bottom: .125em;<br>
&#160;&#160;font-weight: bold;<br>
&#160;&#160;background-color: #0099CC;<br>
&#160;&#160;color: white;<br>
}<br>

<br>
div.tabpanel li.selected {<br>
&#160;&#160;background-color: white;<br>
&#160;&#160;color: black;<br>
}<br>
<br>
div.tabpanel div[role="tabpanel"] {<br>
 border: thin solid black; <br>
 padding: 1em;<br>

 width: 30em;<br>
}<br>
<br>
div.tabpanel div[role="tabpanel"] ul {<br>
&#160;&#160;margin: 0;<br>
&#160;&#160;padding: 0;<br>
&#160;&#160;list-style: none;<br>
}<br>
<br>

div.tabpanel div[role="tabpanel"] h3 {<br>
&#160;&#160;margin: 0;<br>
&#160;&#160;padding: 0;<br>
&#160;&#160;margin-bottom: .25em;<br>
}<br>
&#160;&#160;&lt;/style&gt;<br>
  </div>
</body>

<!-- Mirrored from test-aria.fsi.local:8080/aria_examples/codetalks/widgets/tabpanel/tabpanel1.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 31 Aug 2017 10:16:43 GMT -->
</html>

